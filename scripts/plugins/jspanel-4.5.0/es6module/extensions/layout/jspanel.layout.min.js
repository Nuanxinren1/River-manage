"use strict";import{jsPanel}from"../../jspanel.js";jsPanel.layout||(jsPanel.layout={version:"1.1.0",date:"2018-11-30 10:30",save(e={}){let t=e.selector?e.selector:".jsPanel-standard",s=e.storagename?e.storagename:"jspanels";const n=document.querySelectorAll(t);let o=[];n.forEach(e=>{let t=e.currentData;t.status=e.status,t.zIndex=e.style.zIndex,t.id=e.id,o.push(t)}),o.sort(function(e,t){return e.zIndex-t.zIndex}),window.localStorage.removeItem(s);let r=JSON.stringify(o);return window.localStorage.setItem(s,r),r},getAll:(e="jspanels")=>!!localStorage[e]&&JSON.parse(localStorage[e]),getId(e,t="jspanels"){if(localStorage[t]){let s;return this.getAll(t).forEach(t=>{t.id===e&&(s=t)}),s||!1}return!1},restoreId(e={}){let t,s,n;if(!e.id||!e.config)return console.error("Id or prefdefined panel configuration is missing!"),!1;t=e.id,s=e.config,n=e.storagename?e.storagename:"jspanels";let o=this.getId(t,n);if(o){let e={id:o.id,setStatus:o.status,panelSize:{width:o.width,height:o.height},position:{my:"left-top",at:"left-top",offsetX:o.left,offsetY:o.top},zIndex:o.zIndex},t=Object.assign({},s,e),n=jsPanel.create(t);return n.style.zIndex=e.zIndex,n}},restore(e={}){let t,s;if(!e.configs)return console.error("Object with prefdefined panel configurations is missing!"),!1;if(t=e.configs,s=e.storagename?e.storagename:"jspanels",!localStorage[s])return!1;this.getAll(s).forEach(function(e){let n=e.id;for(let e in t)t.hasOwnProperty(e)&&t[e].id===n&&jsPanel.layout.restoreId({id:n,config:t[e],storagename:s})})}}),"undefined"!=typeof module&&(module.exports=jsPanel);